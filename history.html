<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>История показаний коммунальных услуг</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/main.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* Основные стили */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; /* Используем шрифт в стиле iOS */
            background-color: #E5E5EA; /* Светло-серый фон, как в Telegram */
            margin: 0; /* Убираем отступы по умолчанию */
            padding: 10px; /* Уменьшаем отступы вокруг контента для мобильных устройств */
            display: flex; /* Используем flexbox для центрирования */
            justify-content: center; /* Центрируем контейнер по горизонтали */
        }

        .container {
            max-width: 600px; /* Увеличиваем максимальную ширину контейнера */
            background-color: #FFFFFF; /* Белый фон для контейнера */
            border-radius: 12px; /* Закругление углов контейнера */
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); /* Легкая тень для контейнера */
            padding: 15px; /* Отступы внутри контейнера */
            margin-top: 20px; /* Отступ сверху для контейнера */
        }

        h2 {
            text-align: center; /* Центрируем заголовок */
            color: #0088cc; /* Цвет заголовка, как было раньше */
            margin: 0 0 15px 0; /* Уменьшаем отступы снизу заголовка */
            font-size: 20px; /* Уменьшаем размер шрифта заголовка */
        }

        .table-container {
            overflow-x: auto; /* Позволяет прокручивать таблицу по горизонтали */
            margin-top: 10px; /* Отступ сверху для контейнера таблицы */
        }

        table {
            width: 100%; /* Ширина таблицы 100% */
            border-collapse: collapse; /* Убираем пробелы между ячейками */
        }

        th, td {
            padding: 10px; /* Уменьшаем отступы внутри ячеек */
            text-align: left; /* Выравнивание текста в ячейках */
            border-bottom: 1px solid #D1D1D6; /* Линия снизу ячеек */
            background-color: #F9F9F9; /* Цвет фона ячеек */
            font-size: 14px; /* Уменьшаем размер шрифта ячеек */
        }

        th {
            background-color: #F0F0F5; /* Цвет фона для заголовков столбцов */
            font-weight: 600; /* Полужирный шрифт для заголовков */
            color: #000; /* Черный цвет для текста заголовков */
        }

        tr:hover {
            background-color: #E5E5EA; /* Цвет фона при наведении на строки */
        }

        /* Стили для экранов шириной до 480px */
        @media (max-width: 480px) {
            body {
                padding: 5px; /* Еще больше уменьшаем отступы для маленьких экранов */
            }

            h2 {
                font-size: 18px; /* Уменьшаем размер шрифта заголовка для мобильных */
            }

            th, td {
                font-size: 12px; /* Уменьшаем размер шрифта ячеек для мобильных */
                padding: 8px; /* Уменьшаем отступы внутри ячеек для мобильных */
            }
        }
    </style>
</head>




    
<body>
            <!-- Верхняя часть страницы с логотипом -->
    <header class="header">
        <div class="logo-container">
            <img src="img/logo.png" alt="Логотип" class="logo">
        </div>
    </header>
    
    <div class="container">
        <h2>История показаний коммунальных услуг</h2>
        <div class="table-container"> <!-- Контейнер для таблицы с прокруткой -->
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>Дата</th>
                        <th>Пользователь</th>
                        <th>Т1</th>
                        <th>Т2</th>
                        <th>Вода</th>
                        <th>Газ</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Данные будут добавлены сюда с помощью JavaScript -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Замените на ваш URL Google Apps Script
        const url = 'https://script.google.com/macros/s/AKfycbwrqRCFcI3KyVJldhITcbt_zRtlS2fp1762neWYQ0QIt5r5ezp7j3aegixAGL6BQxmZ/exec';

        // Функция для форматирования даты
        function formatDate(dateString) {
            const date = new Date(dateString);
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0'); // Месяцы начинаются с 0
            const year = date.getFullYear();
            return `${day}.${month}.${year}`; // Форматируем дату как ДД.ММ.ГГГГ
        }

        fetch(url)
            .then(response => response.json())
            .then(data => {
                const tableBody = document.querySelector('#dataTable tbody');
                data.forEach(row => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${formatDate(row.date)}</td> <!-- Форматируем дату перед добавлением в таблицу -->
                        <td>${row.user}</td>
                        <td>${row.electricityT1}</td>
                        <td>${row.electricityT2}</td>
                        <td>${row.water}</td>
                        <td>${row.gas}</td>
                    `;
                    tableBody.appendChild(tr);
                });
            })
            .catch(error => {
                console.error('Ошибка при получении данных:', error);
            });
    </script>
    <!-- Нижняя панель навигации -->
    <nav class="bottom-nav">
        <ul>
            <li>
                <a href="index.html" class="btn">
                    <i class="material-icons">home</i>
                    <span>Главная</span>
                </a>
            </li>
            <li>
                <a href="history.html" class="btn">
                    <i class="material-icons">history</i>
                    <span>История</span>
                </a>
            </li>
            <li>
                <a href="#tariffs" class="btn">
                    <i class="material-icons">attach_money</i>
                    <span>Тарифы</span>
                </a>
            </li>
            <li>
                <a href="#notifications" class="btn-floating">
                    <i class="material-icons">notifications</i>
                    <span>Уведомления</span>
                </a>
            </li>
            <li>
                <a href="#settings" class="btn-floating">
                    <i class="material-icons">settings</i>
                    <span>Настройки</span>
                </a>
            </li>
        </ul>
    </nav>
</body>
</html>
